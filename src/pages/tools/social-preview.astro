---
import ToolLayout from "@/layouts/ToolLayout.astro";
import SocialPreviewTool from "@/components/vue/tools/SocialPreviewTool.vue";
import ToolNewsletterCTA from "@/components/ToolNewsletterCTA.astro";
import { getToolBySlugOrThrow, generateToolStructuredData } from "@/data/tools";

var tool = getToolBySlugOrThrow("social-preview");
var structuredData = generateToolStructuredData(tool);
---

<ToolLayout
  title={tool.title}
  description={tool.description}
  ogImage={tool.ogImage}
  canonicalPath={"/tools/" + tool.slug}
  structuredData={structuredData}
  keywords={tool.keywords}
>
  <!-- Tool Header -->
  <div class="tool-header">
    <h1>{tool.title}</h1>
    <p class="subtitle">
      Create beautiful Open Graph images (og-image) for your pages. Three
      variants, instant download.
    </p>
  </div>

  <div class="tool-content">
    <!-- Main Tool with Vue Island -->
    <SocialPreviewTool client:only="vue" />

    <!-- Newsletter CTA -->
    <div class="tool-card">
      <ToolNewsletterCTA
        pageUrl="/tools/social-preview"
        variant="social-preview-tool"
        title="Want More Free Tools?"
        description="Get notified when new developer tools drop. Weekly tips from 8+ years building production systems."
        buttonText="Get Early Access"
        formNote="Join 1,500+ engineers. No spam."
      />
    </div>
  </div>
</ToolLayout>
