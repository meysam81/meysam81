---
import BaseLayout from "@/layouts/BaseLayout.astro";
import ContentCard from "@/components/ContentCard.astro";
import ToolNewsletterCTA from "@/components/ToolNewsletterCTA.astro";
import {
  getPublishedTools,
  comingSoonTools,
  toolsIndexKeywords,
  generateToolsIndexStructuredData,
} from "@/data/tools";

var publishedTools = getPublishedTools();
var structuredData = generateToolsIndexStructuredData();
---

<BaseLayout
  title="Free Developer Tools"
  description="Free tools for developers, DevOps engineers, and technical founders. Cron generator, YAML validator, and more. No signup required."
  canonicalPath="/tools"
  structuredData={structuredData}
  keywords={toolsIndexKeywords}
>
  <section class="tools-hero">
    <div class="container">
      <h1>Free Developer Tools</h1>
      <p class="hero-subtitle">
        Production-tested utilities from 8+ years of DevOps experience. No
        signup, no ads, just tools that work.
      </p>
    </div>
  </section>

  <section class="tools-grid">
    <div class="container">
      <div class="grid grid-cols-3 gap-8">
        {
          publishedTools.map(function renderTool(tool) {
            return (
              <ContentCard
                title={tool.title}
                description={tool.shortDescription}
                url={"/tools/" + tool.slug}
                badge={tool.badge}
                linkText={"Use " + tool.title}
              />
            );
          })
        }

        {
          comingSoonTools.map(function renderComingSoon(tool) {
            return (
              <div class="card coming-soon">
                <span class="badge">{tool.badge}</span>
                <h3>{tool.title}</h3>
                <p>{tool.description}</p>
              </div>
            );
          })
        }
      </div>
    </div>
  </section>

  <section class="tools-newsletter">
    <div class="container-narrow">
      <div class="newsletter-card">
        <ToolNewsletterCTA
          pageUrl="/tools"
          variant="tools-index"
          title="Get Notified When New Tools Launch"
          description="Join 1,500+ engineers getting weekly DevOps insights and early access to new tools."
          buttonText="Get Early Access"
          formNote="No spam. Unsubscribe anytime."
        />
      </div>
    </div>
  </section>
</BaseLayout>

<style scoped>
  .tools-hero {
    text-align: center;
    padding: var(--space-3xl) 0 var(--space-xl);
  }

  .tools-hero h1 {
    margin-bottom: var(--space-md);
  }

  .hero-subtitle {
    font-size: var(--text-xl);
    color: var(--color-text-muted);
    max-width: 600px;
    margin: 0 auto;
  }

  .tools-grid {
    padding: var(--space-xl) 0 var(--space-3xl);
  }

  .coming-soon {
    opacity: 0.7;
    position: relative;
  }

  .coming-soon:hover {
    transform: none;
    border-color: var(--color-border);
  }

  .coming-soon .badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: var(--text-xs);
    font-weight: 600;
    color: var(--color-text-dim);
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: 999px;
    margin-bottom: var(--space-sm);
  }

  .coming-soon h3 {
    font-size: var(--text-xl);
    margin-bottom: var(--space-sm);
    color: var(--color-text-muted);
  }

  .coming-soon p {
    font-size: var(--text-md);
    color: var(--color-text-dim);
    margin: 0;
  }

  .tools-newsletter {
    padding: var(--space-xl) 0 var(--space-3xl);
  }

  .newsletter-card {
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--space-2xl);
  }
</style>
