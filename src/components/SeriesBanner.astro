---
import type { SeriesInfo } from "@/utils/series";

interface Props {
  seriesInfo: SeriesInfo;
}

var { seriesInfo } = Astro.props;
---

<aside class="series-banner">
  <div class="series-icon">
    <svg
      width="20"
      height="20"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    >
      <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
      <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"
      ></path>
    </svg>
  </div>
  <div class="series-content">
    <span class="series-label">Part of a series</span>
    <a href={`/blog/series/${seriesInfo.slug}`} class="series-link">
      {seriesInfo.name}
    </a>
    <span class="series-position">
      Part {seriesInfo.currentOrder} of {seriesInfo.totalPosts}
    </span>
  </div>
</aside>

<style scoped>
  .series-banner {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-md);
    background: linear-gradient(
      135deg,
      var(--color-accent-bg) 0%,
      var(--color-accent-bg-subtle) 100%
    );
    border: 1px solid var(--color-accent-border-subtle);
    border-radius: var(--border-radius-sm);
    margin-bottom: var(--space-lg);
  }

  .series-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--size-button-icon-lg);
    height: var(--size-button-icon-lg);
    background: var(--color-accent-bg-emphasis);
    border-radius: var(--border-radius-sm);
    color: var(--color-accent-light);
    flex-shrink: 0;
  }

  .series-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-xxs);
  }

  .series-label {
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-dim);
  }

  .series-link {
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--color-accent-light);
    transition: color var(--transition-fast);
  }

  .series-link:hover {
    color: var(--color-accent);
  }

  .series-position {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
  }

  @media (max-width: 768px) {
    .series-banner {
      padding: var(--space-sm);
    }

    .series-icon {
      width: var(--size-button-icon);
      height: var(--size-button-icon);
    }

    .series-icon svg {
      width: 18px;
      height: 18px;
    }
  }
</style>
