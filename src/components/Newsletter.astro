---
import NewsletterForm from "@/components/vue/NewsletterForm.vue";

interface Props {
  variant?: "hero" | "section";
  class?: string;
  benefitsClass?: string;
}

var {
  variant = "section",
  class: className = "",
  benefitsClass = "",
} = Astro.props;

var benefits = [
  { text: "Customer discovery insights as I interview potential users" },
  { text: "Production DevOps lessons applied to product development" },
  { text: "Honest updatesâ€”experiments, failures, and what I'm learning" },
  { text: "Early access to new tools and experiments" },
];
---

<div class:list={["newsletter", className]}>
  <slot name="title" />

  <NewsletterForm
    client:idle
    variant={variant}
    pageUrl={Astro.url.pathname}
    title=""
    description=""
    benefits={benefits}
    buttonText="Join 1,500+ Engineers"
    successTitle="You are in!"
    successMessage="You will now receive weekly emails from me."
    formNote="No spam. Unsubscribe anytime. Privacy respected."
    containerClass={benefitsClass}
  />
</div>

<style scoped>
  .newsletter {
    padding: var(--space-2xl);
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
  }

  .newsletter-hero {
    text-align: center;
    margin-top: var(--space-xl);
  }

  .newsletter-section {
    margin: 0 auto;
  }

  .newsletter-section h2 {
    text-align: center;
    margin-bottom: var(--space-md);
  }

  @media (max-width: 768px) {
    .newsletter {
      padding: var(--space-lg);
    }
  }
</style>
